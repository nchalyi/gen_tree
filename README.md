# Geneology Tree
Простое приложение на FastAPI с PostgreSQL для реализации генеологического дерева.
Также содержит простого бота для Telegram, который выводит родословную по имени человека.

1. Создайте ТГ бота через @BotFather и внесите токен в `docker-compose.yml`:
```compose
bot:
    build: .
    environment:
      - BOT_TOKEN=*сюда токен*
```

2. Запустите всё приложение:
```bash
docker-compose up --build
```

3. Для тестового заполнения БД можно использовать скрипт:
```bash
source api_fill.sh
```


# Что можно улучшить

1. Нормальная файловая структура, а не все в одном месте

2. Запуск ДБ без init.sql (у меня без не работало на докере, пришлось делать так)

3. Функции get_person и get_person_FN в main.py наверняка можно объединить в одну/перегрузить

4. Классы Person_FN и Person в database.py также

5. requirement.txt наверное нужно (?) написать версии, как обычно делают, но я не знаю зачем

6. Наверняка есть способ сделать first_name unique получше

7. build_ancestor_tree в main делает отдельную рекурсию для каждого предка, наверное это можно также объединить в одну

8. Эндпоинты с ID и именем тоже можно в один.

9. Кэш???
